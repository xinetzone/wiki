
<!DOCTYPE html>

<html lang="zh_CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>指令</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../_static/page.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../_static/xin-css/main.css" />
    <link rel="stylesheet" type="text/css" href="../_static/w3css/4/w3pro.css" />
    <link rel="stylesheet" type="text/css" href="../_static/w3css/4/w3mobile.css" />
    <link rel="stylesheet" type="text/css" href="../_static/w3css/4/w3.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/tabs.js"></script>
    <script async="async" kind="hypothesis" src="https://hypothes.is/embed.js"></script>
    <script kind="utterances">

    var commentsRunWhenDOMLoaded = cb => {
    if (document.readyState != 'loading') {
        cb()
    } else if (document.addEventListener) {
        document.addEventListener('DOMContentLoaded', cb)
    } else {
        document.attachEvent('onreadystatechange', function() {
        if (document.readyState == 'complete') cb()
        })
    }
}

var addUtterances = () => {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src = "https://utteranc.es/client.js";
    script.async = "async";

    script.setAttribute("repo", "xinetzone/wiki");
    script.setAttribute("issue-term", "pathname");
    script.setAttribute("theme", "github-light");
    script.setAttribute("label", "💬 comment");
    script.setAttribute("crossorigin", "anonymous");

    sections = document.querySelectorAll("div.section");
    if (sections !== null) {
        section = sections[sections.length-1];
        section.appendChild(script);
    }
}
commentsRunWhenDOMLoaded(addUtterances);
</script>
    <script src="../_static/translations.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe,.cell"
        const thebe_selector_input = "pre,.cell_input div.highlight"
        const thebe_selector_output = ".output,.cell_output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    <link rel="canonical" href="https://xinetzone.github.io/wiki/rst/03_directives.html" />
    <link rel="shortcut icon" href="../_static/page-logo.jfif"/>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="域" href="04_domains.html" />
    <link rel="prev" title="角色" href="02_roles.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.jpg" class="logo" alt="logo">
      
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p class="caption" role="heading">
 <span class="caption-text">
  哲学
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../life/index.html">
   生活
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../life/topic.html">
     小窍门
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption" role="heading">
 <span class="caption-text">
  学习
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../web/index.html">
   基础
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../web/start.html">
     快速入门
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../study/index.html">
   终身学习
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../study/information-literacy.html">
     信息素养
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption" role="heading">
 <span class="caption-text">
  编程
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../python/index.html">
   Python
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../python/00_docutils.html">
     Docutils
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../python/ipython.html">
     IPython
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption" role="heading">
 <span class="caption-text">
  学科
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../math/index.html">
   数学
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../math/analysis.html">
     分析
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../sanstyle/index.html">
   上善若水
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="../sanstyle/00_template.html">
     Sanstyle GitHub 模板
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../sanstyle/01_book.html">
     Stanstyle Book
    </a>
   </li>
   <li class="toctree-l2 current active has-children">
    <a class="reference internal" href="index.html">
     reStructuredText
    </a>
    <input checked="" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
    <label for="toctree-checkbox-7">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul class="current">
     <li class="toctree-l3">
      <a class="reference internal" href="00_start.html">
       快速上手
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="01_field-lists.html">
       字段列表
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="02_roles.html">
       角色
      </a>
     </li>
     <li class="toctree-l3 current active">
      <a class="current reference internal" href="#">
       指令
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="04_domains.html">
       域
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../myst/index.html">
     MyST
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
    <label for="toctree-checkbox-8">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../myst/00_start.html">
       快速上手
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../myst/01_syntax.html">
       MyST 语法指南
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../myst/02_optional.html">
       可选的 MyST 语法
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../sphinx/index.html">
     Sphinx
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
    <label for="toctree-checkbox-9">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../sphinx/00_start.html">
       快速上手
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../sphinx/01_markdown.html">
       Markdown
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../sphinx/02_configuration.html">
       配置
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../sphinx/03_builder.html">
       Builders
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../sphinx/04_extensions.html">
       插件
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../sphinx/05_theming.html">
       HTML 主题
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../sphinx/06_intl.html">
       国际化
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../sphinx/07_setuptools.html">
       安装工具集成
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../sphinx/08_websupport.html">
       Sphinx Web支持
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../sphinx/09_bibtex-format.html">
       Bibtex 格式说明（raw）
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../sphinx/10_tutorial.html">
       教程
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../actions/index.html">
     Github Actions
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
    <label for="toctree-checkbox-10">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../actions/sphinx/index.html">
       Sphinx
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
      <label for="toctree-checkbox-11">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../actions/sphinx/build.html">
         通用 Sphinx Action
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../epb/index.html">
     Executable Book Project
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
    <label for="toctree-checkbox-12">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../epb/00_contributing.html">
       EPB 开发规范
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../epb/01_developer.html">
       开发提示和技巧
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../epb/02_tools.html">
       EPB 工具
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../epb/about.html">
       关于 EBP
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>
<p class="caption" role="heading">
 <span class="caption-text">
  混沌
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../about/index.html">
   关于
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
  <label for="toctree-checkbox-13">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../README.html">
     Wiki
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../about/zreferences.html">
     参考文献
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../CHANGELOG.html">
     变更日志
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference external" href="https://xinetzone.github.io/sanstyle-book/">
   Sanstyle Book
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../glossary/index.html">
   术语表
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
  <label for="toctree-checkbox-14">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../glossary/canvas.html">
     Canvas
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../glossary/css.html">
     CSS
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../glossary/dash.html">
     Dash
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../glossary/dataset.html">
     数据集
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../glossary/en.html">
     英语名词
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../glossary/haxe.html">
     Haxe
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../glossary/html.html">
     HTML
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../glossary/http.html">
     HTTP
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../glossary/javascript.html">
     JavaScript
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../glossary/jupyter.html">
     Jupyter
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../glossary/jupyter-book.html">
     Jupyter Nook
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../glossary/jupyter-widgets.html">
     ipywidgets
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../glossary/plotly.html">
     Plotly Python 开源图形库
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../glossary/plotly-figure.html">
     Python 图参考
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../glossary/python.html">
     Python
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../glossary/ros.html">
     ROS
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../glossary/soft.html">
     常用软件
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../glossary/svg.html">
     SVG
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../other/index.html">
   其他
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/>
  <label for="toctree-checkbox-15">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../other/documentation_generator.html">
     文档生成器
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../other/emoji.html">
     图标
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../other/en2zh.html">
     中英对照
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  <div class="w3-padding w3-card-4 w3-pale-green">
  <a href="https://github.com/xinetzone" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub"
      data-position="top" data-delay="50">
      <i class="fab fa-github"></i>
  </a>
  <a href="mailto:q735613050@163.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top"
      data-delay="50">
      <i class="fas fa-envelope-open"></i>
  </a>
  <a href="tencent://AddContact/?fromId=50&amp;fromSubId=1&amp;subcmd=all&amp;uin=735613050" class="tooltipped"
      target="_blank" data-tooltip="QQ联系我: 735613050" data-position="top" data-delay="50">
      <i class="fab fa-qq"></i>
  </a>
  <a href="https://www.zhihu.com/people/liu-xin-wei-55" class="tooltipped" target="_blank"
      data-tooltip="关注我的知乎: liu-xin-wei-55" data-position="top" data-delay="50">
      <i class="fab fa-zhihu1">知</i>
  </a>
  <a target="_blank" rel="noopener" href="https://www.linkedin.com/in/xinet" class="tooltipped"
      data-tooltip="领英联系我: xinet" data-position="top" data-delay="50">
      <i class="fab fa-linkedin"></i>
  </a>
  <div><a href="https://github.com/xinetzone/sanstyle">上善若水</a> 版权所有</div>
</div>

</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/rst/03_directives.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/xinetzone/wiki"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/xinetzone/wiki/issues/new?title=Issue%20on%20page%20%2Frst/03_directives.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id2">
   目录
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id5">
     特别的名字
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id6">
   段落级标记
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id7">
   代码高亮
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id9">
   术语
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id10">
   元信息标记
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id11">
   索引生成标记
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id12">
   引用基于标签的内容
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id14">
   表格
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id15">
   数学
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id16">
   语法制作显示
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="rst-directives">
<span id="id1"></span><h1>指令<a class="headerlink" href="#rst-directives" title="永久链接至标题">¶</a></h1>
<p><a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/basics.html#rst-directives">如前所述</a>，指令是显式标记的通用块。虽然 Docutils 提供了许多指令, 但 Sphinx 提供了更多指令, 并使用指令作为主要的扩展机制之一。</p>
<p>请参阅 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/domains.html">域</a>，了解域添加的角色。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p>有关 Docutils 提供的指令的概述, 请参阅 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/basics.html#rst-directives">reStructuredText Primer</a> 。</p>
</div>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">directivename</span><span class="p">::</span> argument ...
   <span class="nc">:option:</span> value

   Content of the directive.
</pre></div>
</div>
<div class="sphinx-bs container pb-4 full-width docutils">
<div class="row docutils">
<div class="d-flex col-lg-9 px-2 py-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header w3-light-blue docutils">
<p class="card-text">reStructuredText 指令</p>
</div>
<div class="card-body docutils">
<p class="card-text">指令可以有<strong>参数</strong>（arguments）、<strong>选项</strong>（options）和<strong>内容</strong>（content）。</p>
<ul class="simple">
<li><p class="card-text"><strong>参数</strong>在指令名称后面的双冒号后直接给出。每个指令决定它是否可以有参数，以及参数的数量。</p></li>
<li><p class="card-text"><strong>选项</strong>是在参数之后以 “字段列表” 的形式给出的。</p></li>
<li><p class="card-text"><strong>内容</strong>跟在选项或参数之后的空行。每个指令都决定是否允许内容，以及如何处理它。</p></li>
</ul>
<p class="card-text">指令的一个常见问题是，<strong>内容</strong>的第一行必须缩进到与<strong>选项</strong>相同的水平。</p>
</div>
</div>
</div>
</div>
</div>
<section id="id2">
<h2>目录<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h2>
<p>由于 reST 没有连接多个文档或将文档拆分为多个输出文件的工具, 因此 Sphinx 使用自定义指令来添加文档所包含的单个文件之间的关系, 以及目录。<code class="docutils literal notranslate"><span class="pre">toctree</span></code> 指令是中心元素。</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>可以使用 <a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#include">include</a> 指令将一个文件简单地”包含”在另一个文件中。</p>
<p>要为当前文件（<code class="docutils literal notranslate"><span class="pre">.rst</span></code> 文件）创建目录，请使用标准的 <a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#table-of-contents">reST 内容指令</a>。</p>
</div>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">toctree::</span></code></dt><dd><p>该指令使用指令体中给出的文档的各个 TOC（包括 “sub-TOC tree”）在当前位置插入 “TOC tree”。相对文档名称（不以斜杠开头）与指令所在的文档相关, 绝对名称相对于源目录。可以给出数字”maxdepth”选项以指示树的深度；默认情况下, 包括所有级别。<a class="footnote-reference brackets" href="#id17" id="id3">1</a></p>
<p>考虑这个例子（取自 Python docs 的库引用索引）：</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>
   <span class="nc">:maxdepth:</span> 2

   intro
   strings
   datatypes
   numeric
   (many more documents listed here)
</pre></div>
</div>
<p>这完成了两件事:</p>
<ul class="simple">
<li><p>插入所有这些文档的目录, 最大深度为2, 表示一个嵌套标题。这些文件中的 <code class="docutils literal notranslate"><span class="pre">toctree</span></code> 指令也被考虑在内。</p></li>
<li><p>Sphinx 知道文档 <code class="docutils literal notranslate"><span class="pre">intro</span></code>，<code class="docutils literal notranslate"><span class="pre">strings</span></code> 等的相对顺序, 并且它知道它们是所显示文档的子项, 即库索引。根据这些信息, 它会生成 “next chapter”，“previous chapter” 和 “parent chapter” 链接。</p></li>
</ul>
<p><strong>Entries</strong></p>
<p>第一个 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/directives.html#directive-toctree"><code class="docutils literal notranslate"><span class="pre">toctree</span></code></a> 中的文档标题将自动从引用文档的标题中读取。如果这不是您想要的, 您可以使用与 reST 超链接类似的语法指定显式标题和目标（和 Sphinx 的 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/roles.html#xref-syntax">cross-referencing syntax</a>）。这看起来像：</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>

   intro
   All about strings &lt;strings&gt;
   datatypes
</pre></div>
</div>
<p>上面的第二行将链接到 <code class="docutils literal notranslate"><span class="pre">strings</span></code> 文档, 但是将使用标题 “All about strings” 而不是 <code class="docutils literal notranslate"><span class="pre">strings</span></code> 文档的标题。</p>
<p>您还可以通过提供 HTTP URL 而不是文档名称来添加外部链接。</p>
<p><strong>章节编号</strong></p>
<p>如果你想在HTML输出中有节号, 请给 <strong>toplevel</strong> toctree 一个 <code class="docutils literal notranslate"><span class="pre">numbered</span></code> 选项。例如:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>
   <span class="nc">:numbered:</span>

   foo
   bar
</pre></div>
</div>
<p>编号然后从 <code class="docutils literal notranslate"><span class="pre">foo</span></code> 的标题开始。子 toctrees 是自动编号的（不要给那些 <code class="docutils literal notranslate"><span class="pre">numbered</span></code> flag）。</p>
<p>通过将深度作为 <code class="docutils literal notranslate"><span class="pre">numbered</span></code> 的数字参数, 也可以编号到特定深度。</p>
<p><strong>其他选项</strong></p>
<p>你可以使用 <code class="docutils literal notranslate"><span class="pre">caption</span></code> 选项提供一个 toctree 标题, 你可以使用 <code class="docutils literal notranslate"><span class="pre">name</span></code> 选项来提供可以通过使用引用的隐式目标名 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/roles.html#role-ref"><code class="docutils literal notranslate"><span class="pre">ref</span></code></a></p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>
   <span class="nc">:caption:</span> Table of Contents
   <span class="nc">:name:</span> mastertoc

   foo
</pre></div>
</div>
<p>如果只想显示树中文档的标题, 而不是同一级别的其他标题, 则可以使用 <code class="docutils literal notranslate"><span class="pre">titlesonly</span></code> 选项:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>
   <span class="nc">:titlesonly:</span>

   foo
   bar
</pre></div>
</div>
<p>你可以在toctree指令中使用 “globbing ”，给出 <code class="docutils literal notranslate"><span class="pre">glob</span></code> 标志选项。然后将所有条目与可用文档列表进行匹配, 并按字母顺序将匹配项插入到列表中。例:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>
   <span class="nc">:glob:</span>

   intro*
   recipe/*
   *
</pre></div>
</div>
<p>这首先包括所有名称以 <code class="docutils literal notranslate"><span class="pre">intro</span></code> 开头的文件, 然后是 <code class="docutils literal notranslate"><span class="pre">recipe</span></code> 文件夹中的所有文件, 然后是所有剩余的文件(当然包含该指令的文件除外)。<a class="footnote-reference brackets" href="#id18" id="id4">2</a></p>
<p>特殊条目名称 <code class="docutils literal notranslate"><span class="pre">self</span></code> 代表包含toctree指令的文档。如果要从toctree生成”站点地图”, 这非常有用。</p>
<p>您可以使用 <code class="docutils literal notranslate"><span class="pre">reversed</span></code> 标志选项来反转列表中条目的顺序。当使用 <code class="docutils literal notranslate"><span class="pre">glob</span></code> 标志选项来反转文件的顺序时, 这非常有用。例:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>
   <span class="nc">:glob:</span>
   <span class="nc">:reversed:</span>

   recipe/*
</pre></div>
</div>
<p>你也可以给指令一个”隐藏”选项, 比如:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>
   <span class="nc">:hidden:</span>

   doc_1
   doc_2
</pre></div>
</div>
<p>这仍将通知 Sphinx 文档层次结构, 但不会在指令的位置插入文档中的链接 - 如果您打算自己, 以不同的样式或 HTML 侧边栏插入这些链接, 这是有意义的。</p>
<p>如果您只想拥有一个顶级toctree并隐藏所有其他较低级别的 toctree, 则可以将”includehidden”选项添加到顶级 <code class="docutils literal notranslate"><span class="pre">toctree</span></code> 条目:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>
   <span class="nc">:includehidden:</span>

   doc_1
   doc_2
</pre></div>
</div>
<p>然后可以通过 “hidden” 选项消除所有其他toctree条目。</p>
<p>最后, <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/glossary.html#term-source-directory">source directory</a> (或子目录)中的所有文档必须出现在某些 <code class="docutils literal notranslate"><span class="pre">toctree</span></code> 指令中;如果Sphinx找到未包含的文件, 它将发出警告, 因为这意味着无法通过标准导航访问此文件。</p>
<p>使用 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/configuration.html#confval-exclude_patterns"><code class="docutils literal notranslate"><span class="pre">exclude_patterns</span></code></a> 可以完全排除文档或目录。使用 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/field-lists.html#metadata">“orphan” 元数据</a> 来构建文档, 但通知Sphinx它是无法通过toctree访问的。</p>
<p>“master document” (由 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/configuration.html#confval-master_doc"><code class="docutils literal notranslate"><span class="pre">master_doc</span></code></a> 选择)是TOC树层次结构的 “root” 。如果你没有给出 <code class="docutils literal notranslate"><span class="pre">maxdepth</span></code> 选项, 它可以用作文档的主页面, 也可以用作 “完整的目录”。</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 0.3 版更改: </span>添加了 “globbing” 选项。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 0.6 版更改: </span>添加了 “numbered” 和 “hidden” 选项以及外部链接和对 “self” 引用的支持。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.0 版更改: </span>添加了 “titlesonly” 选项。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.1 版更改: </span>在 “numbered” 中添加了数字参数。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.2 版更改: </span>添加了 “includehidden” 选项。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.3 版更改: </span>添加了 “caption” 和 “name” 选项。</p>
</div>
</dd>
</dl>
<section id="id5">
<h3>特别的名字<a class="headerlink" href="#id5" title="永久链接至标题">¶</a></h3>
<p>Sphinx 保留一些文件名供自己使用；您不应该尝试使用这些名称创建文档 - 这将导致问题。</p>
<p>特殊文档名称（以及为它们生成的页面）是：</p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">genindex</span></code>, <code class="docutils literal notranslate"><span class="pre">modindex</span></code>, <code class="docutils literal notranslate"><span class="pre">search</span></code></dt><dd><p>它们分别用于通用索引, Python 模块索引和搜索页面。</p>
<p>通用索引用模块中的项填充, 所有索引生成 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/domains.html#basic-domain-markup">对象描述</a>，以及来自 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/directives.html#directive-index"><code class="docutils literal notranslate"><span class="pre">index</span></code></a> 指令。</p>
<p>Python 模块索引包含一个条目 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/domains.html#directive-py:module"><code class="docutils literal notranslate"><span class="pre">py:module</span></code></a> 指令。</p>
<p>搜索页面包含一个表单, 该表单使用生成的 JSON 搜索索引和 JavaScript 对搜索词的生成文档进行全文搜索;它应该适用于支持现代 JavaScript 的每个主流浏览器。</p>
</dd>
<dt>以 <code class="docutils literal notranslate"><span class="pre">_</span></code> 开头的每个名字</dt><dd><p>虽然 Sphinx 目前只使用了很少这样的名称, 但您不应该创建包含此类名称的文档或包含文档的目录。（使用 <code class="docutils literal notranslate"><span class="pre">_</span></code> 作为自定义模板目录的前缀是可以的。）</p>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>小心文件名中的异常字符。某些格式可能会以意外的方式解释这些字符：</p>
<ul class="simple">
<li><p>对于基于 HTML 的格式, 不要使用冒号 <code class="docutils literal notranslate"><span class="pre">:</span></code>。与其他部分的链接可能无效。</p></li>
<li><p>不要使用加号 <code class="docutils literal notranslate"><span class="pre">+</span></code> 作为 ePub 格式。可能找不到某些资源。</p></li>
</ul>
</div>
</section>
</section>
<section id="id6">
<h2>段落级标记<a class="headerlink" href="#id6" title="永久链接至标题">¶</a></h2>
<p>这些指令创建短段落, 可以在内部信息单元和普通文本中使用。</p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">note::</span></code></dt><dd><p>关于 API 的一个特别重要的信息, 用户在使用该注释所涉及的任何 API 时应该注意这些信息。指令的内容应以完整的句子写成, 并包括所有适当的标点符号。</p>
<p>例:</p>
<div class="sphinx-bs w3-card-4 w3-pale-green w3-padding docutils">
<div class="row docutils">
<div class="d-flex col-lg-12 px-2 py-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header w3-pale-blue docutils">
<p class="card-text">RST</p>
</div>
<div class="card-body docutils">
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">note</span><span class="p">::</span>

   This function is not suitable for sending spam e-mails.
</pre></div>
</div>
</div>
</div>
</div>
<div class="d-flex col-lg-12 px-2 py-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header w3-pale-red docutils">
<p class="card-text">渲染：</p>
</div>
<div class="card-body docutils">
<div class="admonition note">
<p class="admonition-title">注解</p>
<p class="card-text">This function is not suitable for sending spam e-mails.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">warning::</span></code></dt><dd><p>关于 API 的一些重要信息, 用户在使用警告所涉及的任何API时都应该非常清楚。指令的内容应以完整的句子写成, 并包括所有适当的标点符号。这不同于 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/directives.html#directive-note"><code class="docutils literal notranslate"><span class="pre">note</span></code></a>，因为建议使用 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/directives.html#directive-note"><code class="docutils literal notranslate"><span class="pre">note</span></code></a> 以获取有关安全性的信息。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">versionadded::</span> <span class="pre">version</span></code></dt><dd><p>该指令记录了将所描述的功能添加到库或 C API 的项目版本。当这适用于整个模块时, 应该在任何散文之前将其放置在模块部分的顶部。</p>
<p>第一个参数必须给定，是有关的版本；你可以添加第二个参数，包括对变更的简要解释。</p>
<p>例：</p>
<div class="sphinx-bs w3-card-4 w3-pale-green w3-padding docutils">
<div class="row docutils">
<div class="d-flex col-lg-12 px-2 py-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header w3-pale-blue docutils">
<p class="card-text">RST</p>
</div>
<div class="card-body docutils">
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">versionadded</span><span class="p">::</span> 2.5
   The <span class="ge">*spam*</span> parameter.
</pre></div>
</div>
</div>
</div>
</div>
<div class="d-flex col-lg-12 px-2 py-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header w3-pale-red docutils">
<p class="card-text">渲染：</p>
</div>
<div class="card-body docutils">
<div class="versionadded">
<p class="card-text"><span class="versionmodified added">2.5 新版功能: </span>The <em>spam</em> parameter.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<p>请注意, 指令头和说明之间必须没有空行；这是为了使这些块在标记中在视觉上连续。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">versionchanged::</span> <span class="pre">version</span></code></dt><dd><p>类似于 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/directives.html#directive-versionadded"><code class="docutils literal notranslate"><span class="pre">versionadded</span></code></a>，但以某种方式描述命名特征中的更改时间和内容(新参数, 更改的副作用等)。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">deprecated::</span> <span class="pre">version</span></code></dt><dd><p>类似于 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/directives.html#directive-versionchanged"><code class="docutils literal notranslate"><span class="pre">versionchanged</span></code></a>，但描述了该功能何时被弃用。还可以给出解释, 例如通知读者应该使用什么。例：</p>
<div class="sphinx-bs w3-card-4 w3-pale-green w3-padding docutils">
<div class="row docutils">
<div class="d-flex col-lg-6 px-2 py-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header w3-pale-blue docutils">
<p class="card-text">RST</p>
</div>
<div class="card-body docutils">
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">deprecated</span><span class="p">::</span> 3.1
   Use <span class="na">:func:</span><span class="nv">`spam`</span> instead.
</pre></div>
</div>
</div>
</div>
</div>
<div class="d-flex col-lg-6 px-2 py-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header w3-pale-red docutils">
<p class="card-text">渲染：</p>
</div>
<div class="card-body docutils">
<div class="deprecated">
<p class="card-text"><span class="versionmodified deprecated">3.1 版后已移除: </span>Use <a class="reference internal" href="04_domains.html#spam" title="spam"><code class="xref py py-func docutils literal notranslate"><span class="pre">spam()</span></code></a> instead.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">seealso::</span></code></dt><dd><p>许多部分包括对模块文档或外部文档的引用列表。这些列表使用 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/directives.html#directive-seealso"><code class="docutils literal notranslate"><span class="pre">seealso</span></code></a> 指令创建。</p>
<p><a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/directives.html#directive-seealso"><code class="docutils literal notranslate"><span class="pre">seealso</span></code></a> 指令通常放在任何子部分之前的部分中。对于HTML输出, 它显示为从文本的主流中框出来。</p>
<p>以下内容 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/directives.html#directive-seealso"><code class="docutils literal notranslate"><span class="pre">seealso</span></code></a> 指令应该是reST定义列表。例：</p>
<div class="sphinx-bs w3-card-4 w3-pale-green w3-padding docutils">
<div class="row docutils">
<div class="d-flex col-lg-12 px-2 py-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header w3-pale-blue docutils">
<p class="card-text">RST</p>
</div>
<div class="card-body docutils">
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">seealso</span><span class="p">::</span>

   Module <span class="na">:py:mod:</span><span class="nv">`zipfile`</span>
      Documentation of the <span class="na">:py:mod:</span><span class="nv">`zipfile`</span> standard module.

   <span class="s">`GNU tar manual, Basic Tar Format </span><span class="si">&lt;http://link&gt;</span><span class="s">`_</span>
      Documentation for tar archive files, including GNU tar extensions.
</pre></div>
</div>
</div>
</div>
</div>
<div class="d-flex col-lg-12 px-2 py-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header w3-pale-red docutils">
<p class="card-text">渲染：</p>
</div>
<div class="card-body docutils">
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<dl class="simple">
<dt>Module <a class="reference external" href="https://docs.python.org/3/library/zipfile.html#module-zipfile" title="(在 Python v3.9)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">zipfile</span></code></a></dt><dd><p class="card-text">Documentation of the <a class="reference external" href="https://docs.python.org/3/library/zipfile.html#module-zipfile" title="(在 Python v3.9)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">zipfile</span></code></a> standard module.</p>
</dd>
<dt><a class="reference external" href="http://link">GNU tar manual, Basic Tar Format</a></dt><dd><p class="card-text">Documentation for tar archive files, including GNU tar extensions.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
</div>
<p>还有一个 “短式” 允许看起来像这样：</p>
<div class="sphinx-bs w3-card-4 w3-pale-green w3-padding docutils">
<div class="row docutils">
<div class="d-flex col-lg-12 px-2 py-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header w3-pale-blue docutils">
<p class="card-text">RST</p>
</div>
<div class="card-body docutils">
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">seealso</span><span class="p">::</span> modules <span class="na">:py:mod:</span><span class="nv">`zipfile`</span>, <span class="na">:py:mod:</span><span class="nv">`tarfile`</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="d-flex col-lg-12 px-2 py-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header w3-pale-red docutils">
<p class="card-text">渲染：</p>
</div>
<div class="card-body docutils">
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p class="card-text">modules <a class="reference external" href="https://docs.python.org/3/library/zipfile.html#module-zipfile" title="(在 Python v3.9)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">zipfile</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/tarfile.html#module-tarfile" title="(在 Python v3.9)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tarfile</span></code></a></p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 0.5 版更改: </span>短式。</p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">rubric::</span> <span class="pre">title</span></code></dt><dd><p>该指令创建一个段落标题, 不用于创建目录节点。</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>如果标题的 <em>title</em> 是 “Footnotes ” (或所选语言的等价物), 则LaTeX编写器会忽略此标题, 因为假定它仅包含脚注定义, 因此会创建一个空标题。</p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">centered::</span></code></dt><dd><p>该指令创建一个居中的粗体文本行。使用方法如下:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">centered</span><span class="p">::</span> LICENSE AGREEMENT
</pre></div>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">1.1 版后已移除: </span>此演示文稿指令是旧版本的遗留代码。使用 <code class="docutils literal notranslate"><span class="pre">rst-class</span></code> 指令代替并添加适当的样式。</p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">hlist::</span></code></dt><dd><p>该指令必须包含项目符号列表。它会通过水平分布多个项目或减少项目间距来将其转换为更紧凑的列表, 具体取决于构建器。</p>
<p>对于支持水平分布的构建器, 有一个 <code class="docutils literal notranslate"><span class="pre">columns</span></code> 选项, 用于指定列数；它默认为2。示例：</p>
<div class="sphinx-bs w3-card-4 w3-pale-green w3-padding docutils">
<div class="row docutils">
<div class="d-flex col-lg-12 px-2 py-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header w3-pale-blue docutils">
<p class="card-text">RST</p>
</div>
<div class="card-body docutils">
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">hlist</span><span class="p">::</span>
   <span class="nc">:columns:</span> 3

   <span class="m">*</span> A list of
   <span class="m">*</span> short items
   <span class="m">*</span> that should be
   <span class="m">*</span> displayed
   <span class="m">*</span> horizontally
</pre></div>
</div>
</div>
</div>
</div>
<div class="d-flex col-lg-12 px-2 py-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header w3-pale-red docutils">
<p class="card-text">渲染：</p>
</div>
<div class="card-body docutils">
<table class="hlist"><tr><td><ul class="simple">
<li><p class="card-text">A list of</p></li>
<li><p class="card-text">short items</p></li>
</ul>
</td><td><ul class="simple">
<li><p class="card-text">that should be</p></li>
<li><p class="card-text">displayed</p></li>
</ul>
</td><td><ul class="simple">
<li><p class="card-text">horizontally</p></li>
</ul>
</td></tr></table>
</div>
</div>
</div>
</div>
</div>
</dd>
</dl>
</section>
<section id="id7">
<h2>代码高亮<a class="headerlink" href="#id7" title="永久链接至标题">¶</a></h2>
<p>有多种方法可以在 Sphinx 中显示语法高亮的文字代码块：</p>
<ul class="simple">
<li><p>使用 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/basics.html#rst-doctest-blocks">reST doctest blocks</a></p></li>
<li><p>使用 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/basics.html#rst-literal-blocks">reST literal blocks</a>，可选择与 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/directives.html#directive-highlight"><code class="docutils literal notranslate"><span class="pre">highlight</span></code></a> 指令结合使用</p></li>
<li><p>使用 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/directives.html#directive-code-block"><code class="docutils literal notranslate"><span class="pre">code-block</span></code></a> 指令</p></li>
<li><p>并使用 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/directives.html#directive-literalinclude"><code class="docutils literal notranslate"><span class="pre">literalinclude</span></code></a> 指令。</p></li>
</ul>
<p><a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/basics.html#rst-doctest-blocks">Doctest blocks</a> 只能用于显示交互式Python会话, 而其余三个可用于其他语言。在这三个文件中, 当整个文档或至少大部分文档使用具有相同语法的代码块并且应该以相同的方式设置样式时, 文字块是有用的。另一方面, 当你想要对每个块的样式进行更精细的控制, 或者当你有一个包含使用多种不同语法的代码块的文档时, 第一个 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/directives.html#directive-code-block"><code class="docutils literal notranslate"><span class="pre">code-block</span></code></a> 指令更有意义。最后, <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/directives.html#directive-literalinclude"><code class="docutils literal notranslate"><span class="pre">literalinclude</span></code></a> 指令对于在文档中包含整个代码文件非常有用。</p>
<p>在所有情况下, 语法高亮由 <a class="reference external" href="http://pygments.org/">Pygments</a> 提供。使用文字块时, 使用源文件中的任何 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/directives.html#directive-highlight"><code class="docutils literal notranslate"><span class="pre">highlight</span></code></a> 指令进行配置。当遇到 <code class="docutils literal notranslate"><span class="pre">highlight</span></code> 指令时, 它会被使用, 直到遇到下一个 <code class="docutils literal notranslate"><span class="pre">highlight</span></code> 指令。如果文件中没有 <code class="docutils literal notranslate"><span class="pre">highlight</span></code> 指令, 则使用全局突出显示语言。这默认为 <code class="docutils literal notranslate"><span class="pre">python</span></code>，但可以使用 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/configuration.html#confval-highlight_language"><code class="docutils literal notranslate"><span class="pre">highlight_language</span></code></a> 配置值进行配置。支持以下值:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">none</span></code> (没有突出显示)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">default</span></code> (类似于 <code class="docutils literal notranslate"><span class="pre">python3</span></code> 但是回退到 <code class="docutils literal notranslate"><span class="pre">none</span></code> 没有警告突出显示失败;默认情况下 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/configuration.html#confval-highlight_language"><code class="docutils literal notranslate"><span class="pre">highlight_language</span></code></a> 未设置)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">guess</span></code> (让Pygments根据内容猜测词法分析器, 只适用于某些识别良好的语言)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">python</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rest</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">c</span></code></p></li>
<li><p>… 以及Pygments支持的任何其他 <a class="reference external" href="http://pygments.org/docs/lexers/">词法分析器别名</a></p></li>
</ul>
<p>如果使用所选语言突出显示失败(即Pygments发出 “错误” 标记), 则不会以任何方式突出显示该块。</p>
<div class="admonition important">
<p class="admonition-title">重要</p>
<p>支持的词法分类别名列表与Pygment版本相关联。如果要确保一致突出显示, 则应修复Pygments的版本。</p>
</div>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">highlight::</span> <span class="pre">language</span></code></dt><dd><p>例：</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">highlight</span><span class="p">::</span> c
</pre></div>
</div>
<p>这个语言会一直使用到遇到下一个高亮指令。如前所述，语言可以是 Pygments 支持的任何词法别名。</p>
<p><strong>选项</strong></p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">:linenothreshold:</span></code> threshold (number (optional))</dt><dd><p>启用为代码块生成行号。</p>
<p>这个选项需要一个可选的数字作为阈值参数。如果给出任何阈值，指令将只为超过 N 行的代码块生成行号。如果不给定，将为所有的代码块产生行号。</p>
<p>例如：</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">highlight</span><span class="p">::</span> python
   <span class="nc">:linenothreshold:</span> 5
</pre></div>
</div>
<p>这将为超过五行的所有代码块生成行号。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">:force:</span></code> (no value)</dt><dd><p>如果给定，高亮显示的小错误会被忽略。</p>
</dd>
</dl>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">code-block::</span> <span class="pre">[language]</span></code></dt><dd><p>例：</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">code-block</span><span class="p">::</span> ruby

   Some Ruby code.
</pre></div>
</div>
<p>该指令的别名 <code class="docutils literal notranslate"><span class="pre">sourcecode</span></code> 也可以。该指令将语言名称作为参数。它可以是Pygments支持的任何词法分析别名。如果没有给出, 将使用 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/directives.html#directive-highlight"><code class="docutils literal notranslate"><span class="pre">highlight</span></code></a> 指令的设置。如果没有设置, 将使用 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/configuration.html#confval-highlight_language"><code class="docutils literal notranslate"><span class="pre">highlight_language</span></code></a> 。</p>
<p><strong>选项</strong></p>
<p>Pygments可以为代码块生成行号。要启用此功能, 请使用 <code class="docutils literal notranslate"><span class="pre">linenos</span></code> 标志选项。</p>
<div class="sphinx-bs w3-card-4 w3-pale-green w3-padding docutils">
<div class="row docutils">
<div class="d-flex col-lg-6 px-2 py-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header w3-pale-blue docutils">
<p class="card-text">RST</p>
</div>
<div class="card-body docutils">
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">code-block</span><span class="p">::</span> ruby
   <span class="nc">:linenos:</span>

   Some more Ruby code.
</pre></div>
</div>
</div>
</div>
</div>
<div class="d-flex col-lg-6 px-2 py-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header w3-pale-red docutils">
<p class="card-text">渲染：</p>
</div>
<div class="card-body docutils">
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="no">Some</span> <span class="n">more</span> <span class="no">Ruby</span> <span class="n">code</span><span class="o">.</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
<p>可以使用 <code class="docutils literal notranslate"><span class="pre">lineno-start</span></code> 选项选择第一个行号。如果存在, <code class="docutils literal notranslate"><span class="pre">linenos</span></code> 标志会自动激活：</p>
<div class="sphinx-bs w3-card-4 w3-pale-green w3-padding docutils">
<div class="row docutils">
<div class="d-flex col-lg-12 px-2 py-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header w3-pale-blue docutils">
<p class="card-text">RST</p>
</div>
<div class="card-body docutils">
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">code-block</span><span class="p">::</span> ruby
   <span class="nc">:lineno-start:</span> 10

   Some more Ruby code, with line numbering starting at 10.
</pre></div>
</div>
</div>
</div>
</div>
<div class="d-flex col-lg-12 px-2 py-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header w3-pale-red docutils">
<p class="card-text">渲染：</p>
</div>
<div class="card-body docutils">
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="linenos">10</span><span class="no">Some</span> <span class="n">more</span> <span class="no">Ruby</span> <span class="n">code</span><span class="p">,</span> <span class="n">with</span> <span class="n">line</span> <span class="n">numbering</span> <span class="n">starting</span> <span class="n">at</span> <span class="mi">10</span><span class="o">.</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
<p>另外, 可以给出一个 <code class="docutils literal notranslate"><span class="pre">emphasisize-lines</span></code> 选项让 Pygments 强调特定的行：</p>
<div class="sphinx-bs w3-card-4 w3-pale-green w3-padding docutils">
<div class="row docutils">
<div class="d-flex col-lg-6 px-2 py-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header w3-pale-blue docutils">
<p class="card-text">RST</p>
</div>
<div class="card-body docutils">
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">code-block</span><span class="p">::</span> python
   <span class="nc">:emphasize-lines:</span> 3,5

   def some_function():
      interesting = False
      print &#39;This line is highlighted.&#39;
      print &#39;This one is not...&#39;
      print &#39;...but this one is.&#39;
</pre></div>
</div>
</div>
</div>
</div>
<div class="d-flex col-lg-6 px-2 py-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header w3-pale-red docutils">
<p class="card-text">渲染：</p>
</div>
<div class="card-body docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">some_function</span><span class="p">():</span>
   <span class="n">interesting</span> <span class="o">=</span> <span class="kc">False</span>
<span class="hll">   <span class="nb">print</span> <span class="s1">&#39;This line is highlighted.&#39;</span>
</span>   <span class="nb">print</span> <span class="s1">&#39;This one is not...&#39;</span>
<span class="hll">   <span class="nb">print</span> <span class="s1">&#39;...but this one is.&#39;</span>
</span></pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
<p>可以给出 <code class="docutils literal notranslate"><span class="pre">caption</span></code> 选项以在代码块之前显示该名称。可以使用 <code class="docutils literal notranslate"><span class="pre">name</span></code> 选项提供隐式目标名称, 可以使用以下命令引用 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/roles.html#role-ref"><code class="docutils literal notranslate"><span class="pre">ref</span></code></a> 。例如：</p>
<div class="sphinx-bs w3-card-4 w3-pale-green w3-padding docutils">
<div class="row docutils">
<div class="d-flex col-lg-12 px-2 py-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header w3-pale-blue docutils">
<p class="card-text">RST</p>
</div>
<div class="card-body docutils">
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">code-block</span><span class="p">::</span> python
   <span class="nc">:caption:</span> this.py
   <span class="nc">:name:</span> this-py

   print &#39;Explicit is better than implicit.&#39;
</pre></div>
</div>
</div>
</div>
</div>
<div class="d-flex col-lg-12 px-2 py-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header w3-pale-red docutils">
<p class="card-text">渲染：</p>
</div>
<div class="card-body docutils">
<div class="literal-block-wrapper docutils container" id="this-py">
<div class="code-block-caption"><span class="caption-number">列表 1 </span><span class="caption-text">this.py</span><a class="headerlink" href="#this-py" title="永久链接至代码">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span> <span class="s1">&#39;Explicit is better than implicit.&#39;</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<p>可以使用 <code class="docutils literal notranslate"><span class="pre">dedent</span></code> 选项从代码块中去除缩进字符。例如：</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">code-block</span><span class="p">::</span> ruby
   <span class="nc">:dedent:</span> 4

      some ruby code
</pre></div>
</div>
<p><strong>在 1.1 版更改:</strong> 添加了 “强调线” 选项。</p>
<p><strong>在 1.3 版更改:</strong> 添加了 <code class="docutils literal notranslate"><span class="pre">lineno-start</span></code>, <code class="docutils literal notranslate"><span class="pre">caption</span></code>, <code class="docutils literal notranslate"><span class="pre">name</span></code> 和 <code class="docutils literal notranslate"><span class="pre">dedent</span></code> 选项。</p>
<p><strong>在 1.6.6 版更改:</strong> LaTeX支持 <code class="docutils literal notranslate"><span class="pre">emphasisize-lines</span></code> 选项。</p>
<p><strong>在 2.0 版更改:</strong> <code class="docutils literal notranslate"><span class="pre">language</span></code> 参数变为可选参数。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">literalinclude::</span> <span class="pre">filename</span></code></dt><dd><p>通过将示例文本存储在仅包含纯文本的外部文件中, 可以包括更长的逐字文本显示。可以使用 <code class="docutils literal notranslate"><span class="pre">literalinclude</span></code> 指令包含该文件。 <a class="footnote-reference brackets" href="#id19" id="id8">3</a></p>
<p>例如, 要包含Python源文件 <code class="docutils literal notranslate"><span class="pre">example.py</span></code>，使用:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">literalinclude</span><span class="p">::</span> example.py
</pre></div>
</div>
<p>文件名通常相对于当前文件的路径。但是, 如果它是绝对的(以 <code class="docutils literal notranslate"><span class="pre">/</span></code> 开头), 它相对于顶级源目录。</p>
<p><strong>选项</strong></p>
<p>像 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/directives.html#directive-code-block"><code class="docutils literal notranslate"><span class="pre">code-block</span></code></a>，该指令支持 <code class="docutils literal notranslate"><span class="pre">linenos</span></code> 标志选项来打开行号, <code class="docutils literal notranslate"><span class="pre">lineno-start</span></code> 选项来选择第一行号, <code class="docutils literal notranslate"><span class="pre">强调&lt;span&gt; -&lt;span&gt; lines</span></code> 选项用于强调特定行, <code class="docutils literal notranslate"><span class="pre">name</span></code> 选项用于提供隐式目标名称, <code class="docutils literal notranslate"><span class="pre">dedent</span></code> 选项用于删除代码块的缩进字符, 还有 <code class="docutils literal notranslate"><span class="pre">language</span></code> 选项用于选择a语言与当前文件的标准语言不同。另外, 它支持 <code class="docutils literal notranslate"><span class="pre">caption</span></code> 选项;但是, 这可以提供没有参数使用文件名作为标题。选项示例:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">literalinclude</span><span class="p">::</span> example.rb
   <span class="nc">:language:</span> ruby
   <span class="nc">:emphasize-lines:</span> 12,15-18
   <span class="nc">:linenos:</span>
</pre></div>
</div>
<p>如果给出带有所需制表符宽度的 <code class="docutils literal notranslate"><span class="pre">tab-width</span></code> 选项, 则会扩展输入中的制表符。</p>
<p>假设包含文件在 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/configuration.html#confval-source_encoding"><code class="docutils literal notranslate"><span class="pre">source_encoding</span></code></a> 中编码。如果文件具有不同的编码, 则可以使用 <code class="docutils literal notranslate"><span class="pre">encoding</span></code> 选项指定它:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">literalinclude</span><span class="p">::</span> example.py
   <span class="nc">:encoding:</span> latin-1
</pre></div>
</div>
<p>该指令还支持仅包含文件的一部分。如果它是一个Python模块, 你可以选择一个类, 函数或方法来包含使用 <code class="docutils literal notranslate"><span class="pre">pyobject</span></code> 选项:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">literalinclude</span><span class="p">::</span> example.py
   <span class="nc">:pyobject:</span> Timer.start
</pre></div>
</div>
<p>这只包括属于文件中 <code class="docutils literal notranslate"><span class="pre">Timer</span></code> 类中 <code class="docutils literal notranslate"><span class="pre">start()</span></code> 方法的代码行。</p>
<p>或者, 您可以通过给出 <code class="docutils literal notranslate"><span class="pre">lines</span></code> 选项来准确指定要包含的行:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">literalinclude</span><span class="p">::</span> example.py
   <span class="nc">:lines:</span> 1,3,5-10,20-
</pre></div>
</div>
<p>这包括第1,3,5到10行和第20行到最后一行。</p>
<p>另一种控制文件的哪一部分被包括的方法是使用 <code class="docutils literal notranslate"><span class="pre">start-after</span></code> 和 <code class="docutils literal notranslate"><span class="pre">end-before</span></code> 选项（或只使用其中一个）。如果 <code class="docutils literal notranslate"><span class="pre">start-after</span></code> 是一个字符串选项，那么只有包含该字符串的第一行之后的行被包括在内。如果 <code class="docutils literal notranslate"><span class="pre">end-before</span></code> 是一个字符串选项，那么只有包含该字符串的第一行之前的行被包括在内。<code class="docutils literal notranslate"><span class="pre">start-at</span></code> 和 <code class="docutils literal notranslate"><span class="pre">end-at</span></code> 选项的行为方式类似，但包含匹配的字符串的行会被包括在内。</p>
<p><code class="docutils literal notranslate"><span class="pre">start-after/start-at</span></code> 和 <code class="docutils literal notranslate"><span class="pre">end-before/end-at</span></code> 可以有相同的字符串。<code class="docutils literal notranslate"><span class="pre">start-after/start-at</span></code> 过滤包含选项字符串的行之前的行（<code class="docutils literal notranslate"><span class="pre">start-at</span></code> 将保留该行）。然后，<code class="docutils literal notranslate"><span class="pre">end-before/end-at</span></code> 过滤包含选项字符串的行之后的行（<code class="docutils literal notranslate"><span class="pre">end-at</span></code> 将保留该行，<code class="docutils literal notranslate"><span class="pre">end-before</span></code> 跳过第一行）。</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>如果你想只选择 ini 文件的 <code class="docutils literal notranslate"><span class="pre">[second-section]</span></code>，像下面这样，你可以使用 <code class="docutils literal notranslate"><span class="pre">:start-at:</span> <span class="pre">[second-section]</span></code> 和 <code class="docutils literal notranslate"><span class="pre">end-before:</span> <span class="pre">[third-section]</span></code>：</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>[first-section]

var_in_first=true

[second-section]

var_in_second=true

[third-section]

var_in_third=true
</pre></div>
</div>
<p>这些选项的有用情况是与标签注释一起工作。<code class="docutils literal notranslate"><span class="pre">:start-after:</span> <span class="pre">[initialized]</span></code> 和 <code class="docutils literal notranslate"><span class="pre">:end-before:</span> <span class="pre">[initialized]</span></code> 选项在注释之间保留行：</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>if __name__ == &quot;__main__&quot;:
   # [initialize]
   app.start(&quot;:8000&quot;)
   # [initialize]
</pre></div>
</div>
</div>
<p>使用 <code class="docutils literal notranslate"><span class="pre">start-after</span></code> 选择的行仍然可以使用 <code class="docutils literal notranslate"><span class="pre">lines</span></code>，第一个允许的行按照惯例使用行号 <code class="docutils literal notranslate"><span class="pre">1</span></code> 。</p>
<p>当以上述任何方式选择行时, “强调行” 中的行号指的是从 “1” 开始连续计数的所选行。</p>
<p>指定要显示的文件的特定部分时, 显示原始行号可能很有用。这可以使用 <code class="docutils literal notranslate"><span class="pre">lineno-match</span></code> 选项来完成, 但是只有当选择包含连续的行时才允许这样做。</p>
<p>您可以分别使用 <code class="docutils literal notranslate"><span class="pre">prepend</span></code> 和 <code class="docutils literal notranslate"><span class="pre">append</span></code> 选项为所包含的代码添加和/或附加一行。这很有用, 例如用于突出显示不包含 <code class="docutils literal notranslate"><span class="pre">&lt;？php</span></code>/<code class="docutils literal notranslate"><span class="pre">？&gt;</span></code> 标记的PHP代码。</p>
<p>如果要显示代码的差异, 可以通过给出 <code class="docutils literal notranslate"><span class="pre">diff</span></code> 选项来指定旧文件:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">literalinclude</span><span class="p">::</span> example.py
   <span class="nc">:diff:</span> example.py.orig
</pre></div>
</div>
<p>这显示了 <code class="docutils literal notranslate"><span class="pre">example.py</span></code> 和 <code class="docutils literal notranslate"><span class="pre">example.py.orig</span></code> 之间的差异, 统一的diff格式。</p>
<p><strong>在 0.4.3 版更改:</strong> 添加了 <code class="docutils literal notranslate"><span class="pre">encoding</span></code> 选项。</p>
<p><strong>在 0.6 版更改:</strong> 添加了 <code class="docutils literal notranslate"><span class="pre">pyobject</span></code>, <code class="docutils literal notranslate"><span class="pre">lines</span></code>, <code class="docutils literal notranslate"><span class="pre">start-after</span></code> 和 <code class="docutils literal notranslate"><span class="pre">end-before</span></code> 选项, 以及对绝对文件名的支持。</p>
<p><strong>在 1.0 版更改:</strong> 添加了 <code class="docutils literal notranslate"><span class="pre">prepend</span></code>, <code class="docutils literal notranslate"><span class="pre">append</span></code> 和 <code class="docutils literal notranslate"><span class="pre">tab-width</span></code> 选项。</p>
<p><strong>在 1.3 版更改:</strong> 添加了 <code class="docutils literal notranslate"><span class="pre">diff</span></code>, <code class="docutils literal notranslate"><span class="pre">lineno-match</span></code>, <code class="docutils literal notranslate"><span class="pre">caption</span></code>, <code class="docutils literal notranslate"><span class="pre">name</span></code> 和 <code class="docutils literal notranslate"><span class="pre">dedent</span></code> 选项。</p>
<p><strong>在 1.5 版更改:</strong> 添加了 <code class="docutils literal notranslate"><span class="pre">start-at</span></code> 和 <code class="docutils literal notranslate"><span class="pre">end-at</span></code> 选项。</p>
<p><strong>在 1.6 版更改:</strong> 使用 <code class="docutils literal notranslate"><span class="pre">start-after</span></code> 和 <code class="docutils literal notranslate"><span class="pre">lines</span></code> 时, 第一行按照 <code class="docutils literal notranslate"><span class="pre">start-after</span></code> 被认为是 <code class="docutils literal notranslate"><span class="pre">lines</span></code> 的行号 <code class="docutils literal notranslate"><span class="pre">1</span></code> 。</p>
</dd>
</dl>
</section>
<section id="id9">
<h2>术语<a class="headerlink" href="#id9" title="永久链接至标题">¶</a></h2>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">glossary::</span></code></dt><dd><p>该指令必须包含带有术语和定义的 reST 定义列表标记。然后, 这些定义可以引用 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/roles.html#role-term"><code class="docutils literal notranslate"><span class="pre">term</span></code></a> 角色。例：</p>
<div class="sphinx-bs w3-card-4 w3-pale-green w3-padding docutils">
<div class="row docutils">
<div class="d-flex col-lg-6 px-2 py-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header w3-pale-blue docutils">
<p class="card-text">RST</p>
</div>
<div class="card-body docutils">
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">glossary</span><span class="p">::</span>

   environment
      A structure where information about all documents under the root is
      saved, and used for cross-referencing.  The environment is pickled
      after the parsing stage, so that successive runs only need to read
      and parse new and changed documents.

   source directory
      The directory which, including its subdirectories, contains all
      source files for one Sphinx project.
</pre></div>
</div>
</div>
</div>
</div>
<div class="d-flex col-lg-6 px-2 py-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header w3-pale-red docutils">
<p class="card-text">渲染：</p>
</div>
<div class="card-body docutils">
<dl class="glossary simple">
<dt id="term-environment">environment<a class="headerlink" href="#term-environment" title="Permalink to this term">¶</a></dt><dd><p class="card-text">A structure where information about all documents under the root is
saved, and used for cross-referencing.  The environment is pickled
after the parsing stage, so that successive runs only need to read
and parse new and changed documents.</p>
</dd>
<dt id="term-source-directory">source directory<a class="headerlink" href="#term-source-directory" title="Permalink to this term">¶</a></dt><dd><p class="card-text">The directory which, including its subdirectories, contains all
source files for one Sphinx project.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<p>与常规定义列表相比, 每个条目允许 <em>multiple</em> 术语, 并且允许使用内联标记。您可以链接到所有条款。例如：</p>
<div class="sphinx-bs w3-card-4 w3-pale-green w3-padding docutils">
<div class="row docutils">
<div class="d-flex col-lg-6 px-2 py-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header w3-pale-blue docutils">
<p class="card-text">RST</p>
</div>
<div class="card-body docutils">
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">glossary</span><span class="p">::</span>

   term 1
   term 2
      Definition of both terms.
</pre></div>
</div>
</div>
</div>
</div>
<div class="d-flex col-lg-6 px-2 py-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header w3-pale-red docutils">
<p class="card-text">渲染：</p>
</div>
<div class="card-body docutils">
<dl class="glossary simple">
<dt id="term-term-1">term 1<a class="headerlink" href="#term-term-1" title="Permalink to this term">¶</a></dt><dt id="term-term-2">term 2<a class="headerlink" href="#term-term-2" title="Permalink to this term">¶</a></dt><dd><p class="card-text">Definition of both terms.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<p>(术语表排序时, 第一个术语确定排序顺序。)</p>
<p>如果要为一般索引条目指定 “分组键”, 可以将 “键” 设置为 “term : key”。例如：</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">glossary</span><span class="p">::</span>

   term 1 : A
   term 2 : B
      Definition of both terms.
</pre></div>
</div>
<p>请注意, “key” 用于按键分组键。 “key” 未正常化; 键 “A” 和 “a” 成为不同的组。使用 “key” 中的整个字符代替第一个字符;它用于 “组合字符序列” 和 “代理对” 分组键。</p>
<p>在i18n情况下, 即使原始文本只有 “term” 部分, 也可以指定 “本地化 term : key”。在这种情况下, 翻译的 “本地化术语” 将分类在 “密钥” 组中。</p>
<p><strong>0.6 新版功能:</strong> 您现在可以为glossary指令提供一个 <code class="docutils literal notranslate"><span class="pre">:sorted:</span></code> 标志, 该标志将按字母顺序自动对条目进行排序。</p>
<p><strong>在 1.1 版更改:</strong> 现在支持多个术语和内联标记。</p>
<p><strong>在 1.4 版更改:</strong> 词汇表术语的索引键应视为 <em>experimental</em>。</p>
</dd>
</dl>
</section>
<section id="id10">
<h2>元信息标记<a class="headerlink" href="#id10" title="永久链接至标题">¶</a></h2>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">sectionauthor::</span> <span class="pre">name</span> <span class="pre">&lt;email&gt;</span></code></dt><dd><p>标识当前部分的作者。该论点应包括作者的姓名, 以便它可用于演示文稿和电子邮件地址。地址的域名部分应为小写。例：</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">sectionauthor</span><span class="p">::</span> Guido van Rossum &lt;guido@python.org&gt;
</pre></div>
</div>
<p>默认情况下, 此标记不会以任何方式反映在输出中(它有助于跟踪贡献), 但您可以将配置值 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/configuration.html#confval-show_authors"><code class="docutils literal notranslate"><span class="pre">show_authors</span></code></a> 设置为 <code class="docutils literal notranslate"><span class="pre">True</span></code> 以使它们生成一个段落输出。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">codeauthor::</span> <span class="pre">name</span> <span class="pre">&lt;email&gt;</span></code></dt><dd><p><a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/directives.html#directive-codeauthor"><code class="docutils literal notranslate"><span class="pre">codeauthor</span></code></a> 指令, 可以多次出现, 命名所描述代码的作者, 就像 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/directives.html#directive-sectionauthor"><code class="docutils literal notranslate"><span class="pre">sectionauthor</span></code></a> 命名一篇文档的作者。如果 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/configuration.html#confval-show_authors"><code class="docutils literal notranslate"><span class="pre">show_authors</span></code></a> 配置值为 “True”，它也只产生输出。</p>
</dd>
</dl>
</section>
<section id="id11">
<h2>索引生成标记<a class="headerlink" href="#id11" title="永久链接至标题">¶</a></h2>
<p>Sphinx 自动从所有对象描述（如函数, 类或属性）创建索引条目, 如 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/domains.html">域</a> 中所述。</p>
<p>但是, 还有明确的标记可用, 以使索引更加全面, 并在文档中启用索引条目, 其中信息不主要包含在信息单元中, 例如语言参考。</p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">index::</span> <span class="pre">&lt;entries&gt;</span></code></dt><dd><p>该指令包含一个或多个索引条目。每个条目由一个类型和一个值组成, 用冒号分隔。</p>
<p>例如:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">index</span><span class="p">::</span>
   single: execution; context
   module: __main__
   module: sys
   triple: module; search; path

<span class="gh">The execution context</span>
<span class="gh">---------------------</span>

<span class="cp">...</span>
</pre></div>
</div>
<p>该指令包含五个条目, 这些条目将转换为生成的索引中的条目, 该条目链接到索引语句的确切位置（或者, 如果是脱机介质, 则是相应的页码）。</p>
<p>由于索引指令在源中的位置生成交叉引用目标, 因此将它们*放在它们引用的东西之前是有意义的 - 例如标题, 如上例所示。</p>
<p>可能的条目类型是:</p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">single</span></code></dt><dd><p>创建单个索引条目。可以通过用分号分隔子条目文本来创建子条目（下面也使用此符号来描述创建的条目）。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pair</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">pair:</span> <span class="pre">loop;</span> <span class="pre">statement</span></code> 是一个创建两个索引条目的快捷方式, 即 <code class="docutils literal notranslate"><span class="pre">loop;</span> <span class="pre">statement</span></code> 和 <code class="docutils literal notranslate"><span class="pre">statement;</span> <span class="pre">loop</span></code>。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">triple</span></code></dt><dd><p>同样, <code class="docutils literal notranslate"><span class="pre">triple:</span> <span class="pre">module;</span> <span class="pre">search;</span> <span class="pre">path</span></code> 是一个创建三个索引条目的快捷方式, 它们是 <code class="docutils literal notranslate"><span class="pre">module;</span> <span class="pre">search</span> <span class="pre">path</span></code>，<code class="docutils literal notranslate"><span class="pre">search;</span> <span class="pre">path,</span> <span class="pre">module</span></code>  和 <code class="docutils literal notranslate"><span class="pre">path;</span> <span class="pre">module</span> <span class="pre">search</span></code>。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">see</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">see:</span> <span class="pre">entry;</span> <span class="pre">other</span></code> 创建一个索引条目, 从 <code class="docutils literal notranslate"><span class="pre">entry</span></code> 引用到 <code class="docutils literal notranslate"><span class="pre">other</span></code>。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">seealso</span></code></dt><dd><p>就像 <code class="docutils literal notranslate"><span class="pre">see</span></code>，但是插入 “see also” 而不是 “see”。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">module,</span> <span class="pre">keyword,</span> <span class="pre">operator,</span> <span class="pre">object,</span> <span class="pre">exception,</span> <span class="pre">statement,</span> <span class="pre">builtin</span></code></dt><dd><p>这些都创建了两个索引条目。例如, <code class="docutils literal notranslate"><span class="pre">module:hashlib</span></code> 创建条目 <code class="docutils literal notranslate"><span class="pre">module;</span> <span class="pre">hashlib</span></code> 和 <code class="docutils literal notranslate"><span class="pre">hashlib;</span> <span class="pre">module.</span></code> 。（这些是特定于 Python 的, 因此已弃用。）</p>
</dd>
</dl>
<p>您可以通过在前面添加感叹号来标记 “main” 索引条目。生成的索引中强调了对 “main” 条目的引用。例如, 如果两个页面包含：</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">index</span><span class="p">::</span> Python
</pre></div>
</div>
<p>和一页包含:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">index</span><span class="p">::</span> ! Python
</pre></div>
</div>
<p>然后在三个反向链接中强调后一页面的反向链接。</p>
<p>对于仅包含 “single” 条目的索引指令, 有一种简写符号:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">index</span><span class="p">::</span> BNF, grammar, syntax, notation
</pre></div>
</div>
<p>这将创建四个索引条目。</p>
<p><strong>在 1.1 版更改:</strong> 添加了 <code class="docutils literal notranslate"><span class="pre">see</span></code> 和 <code class="docutils literal notranslate"><span class="pre">seealso</span></code> 类型, 以及标记主条目。</p>
<p><strong>选项</strong></p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">:name:</span></code> a label for hyperlink (text)</dt><dd><p>定义隐含的目标名称，可以通过使用 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/roles.html#role-ref">ref</a> 来引用。比如说：</p>
</dd>
</dl>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">index</span><span class="p">::</span> Python
<span class="nc">:name:</span> py-index
</pre></div>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">:index:</span></code></dt><dd><p>虽然 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/directives.html#directive-index"><code class="docutils literal notranslate"><span class="pre">index</span></code></a> 指令是块级标记并链接到下一段的开头, 但还有一个相应的角色可以直接设置链接目标的使用位置。</p>
<p>角色的内容可以是一个简单的短语, 然后保存在文本中并用作索引条目。它也可以是文本和索引条目的组合, 其样式与交叉引用的显式目标类似。在这种情况下, “target ” 部分可以是完整条目, 如上面的指令所述。例如：</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>This is a normal reST <span class="na">:index:</span><span class="nv">`paragraph`</span> that contains several
<span class="na">:index:</span><span class="nv">`index entries &lt;pair: index; entry&gt;`</span>.
</pre></div>
</div>
<p><strong>1.1 新版功能.</strong></p>
</dd>
</dl>
</section>
<section id="id12">
<h2>引用基于标签的内容<a class="headerlink" href="#id12" title="永久链接至标题">¶</a></h2>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">only::</span> <span class="pre">&lt;expression&gt;</span></code></dt><dd><p>仅当 <em>expression</em> 为 true 时才包含指令的内容。表达式应该包含标签, 例如：</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">only</span><span class="p">::</span> html and draft
</pre></div>
</div>
<p>未定义的标签是假的, 定义的标签(通过 <code class="docutils literal notranslate"><span class="pre">-t</span></code> 命令行选项或在 <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> 中, 参见 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/configuration.html#conf-tags">here</a>)是真的。支持布尔表达式, 也使用括号(如 <code class="docutils literal notranslate"><span class="pre">html</span></code> 和 (<code class="docutils literal notranslate"><span class="pre">latex</span></code> or <code class="docutils literal notranslate"><span class="pre">draft</span></code>))。</p>
<p><em>format</em> 和当前构建器的 <em>name</em> (<code class="docutils literal notranslate"><span class="pre">html</span></code>, <code class="docutils literal notranslate"><span class="pre">latex</span></code> 或 <code class="docutils literal notranslate"><span class="pre">text</span></code>)始终设置为标签 <a class="footnote-reference brackets" href="#id20" id="id13">4</a>。为了明确区分格式和名称, 它们还添加了前缀 <code class="docutils literal notranslate"><span class="pre">format_</span></code> 和 <code class="docutils literal notranslate"><span class="pre">builder_</span></code>，例如: epub 构建器定义了标签 <code class="docutils literal notranslate"><span class="pre">html</span></code>，<code class="docutils literal notranslate"><span class="pre">epub</span></code>，<code class="docutils literal notranslate"><span class="pre">format_html</span></code> 和 <code class="docutils literal notranslate"><span class="pre">builder_epub</span></code> 。</p>
<p>读取配置文件 <em>后</em>，将设置这些标准标记, 因此它们不可用。</p>
<p>所有标记必须遵循标识符语法, 如 <a class="reference external" href="https://docs.python.org/3/reference/lexical_analysis.html#identifiers">标识符和关键字</a> 文档中所述。即, 标记表达式可能只包含标记符合Python变量的语法。在ASCII中, 它由大写和小写字母 <code class="docutils literal notranslate"><span class="pre">A</span></code> 到 <code class="docutils literal notranslate"><span class="pre">Z</span></code> 和下划线 <code class="docutils literal notranslate"><span class="pre">_</span></code> 组成, 除了第一个字符可以使用数字 <code class="docutils literal notranslate"><span class="pre">0</span></code> 到 <code class="docutils literal notranslate"><span class="pre">9</span></code>。</p>
<p><strong>0.6 新版功能.</strong></p>
<p><strong>在 1.2 版更改:</strong> 添加了构建器的名称和前缀。</p>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>该指令旨在仅控制文档的内容。它无法控制部分, 标签等。</p>
</div>
</section>
<section id="id14">
<h2>表格<a class="headerlink" href="#id14" title="永久链接至标题">¶</a></h2>
<p>使用 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/basics.html#rst-tables">reStructuredText tables</a>，即</p>
<ul class="simple">
<li><p>网格表语法 (<a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#grid-tables">ref</a>),</p></li>
<li><p>简单的表格语法 (<a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#simple-tables">ref</a>),</p></li>
<li><p><a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#csv-table">csv-table</a> 句法,</p></li>
<li><p>或者 <a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#list-table">list-table</a> 语法。</p></li>
</ul>
<p><a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#table">table</a> 指令作为 <em>grid</em> 和 <em>simple</em> 语法的可选包装。</p>
<p>它们在HTML输出中工作正常, 但是在LaTeX中使用表格时会有一些问题:列宽很难自动正确确定。因此, 存在以下指令:</p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">tabularcolumns::</span> <span class="pre">column</span> <span class="pre">spec</span></code></dt><dd><p>该指令为源文件中出现的下一个表提供了 “column spec” 。规范是LaTeX “tabulary” 包的环境的第二个参数(Sphinx用它来翻译表)。它可以具有:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>|l|l|l|
</pre></div>
</div>
<p>这意味着三个左调整, 不间断的列。对于应该自动断开的具有较长文本的列, 请使用标准的 <code class="docutils literal notranslate"><span class="pre">p{width}</span></code> 构造或tabulary的自动说明符:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p><code class="docutils literal notranslate"><span class="pre">L</span></code></p></th>
<th class="head"><p>用自动宽度冲洗左列</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">R</span></code></p></td>
<td><p>用自动宽度冲洗右列</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">C</span></code></p></td>
<td><p>中心列, 自动宽度</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">J</span></code></p></td>
<td><p>对齐自动宽度的列</p></td>
</tr>
</tbody>
</table>
<p><code class="docutils literal notranslate"><span class="pre">LRCJ</span></code> 列的自动宽度由 <code class="docutils literal notranslate"><span class="pre">tabulary</span></code> 与第一遍中观察到的份额成比例, 其中表格单元格以其自然的 “horizontal” 宽度呈现。</p>
<p>默认情况下, Sphinx为每列使用带有 <code class="docutils literal notranslate"><span class="pre">J</span></code> 的表格布局。</p>
<p><strong>0.3 新版功能.</strong></p>
<p><strong>在 1.6 版更改:</strong> 由于自定义Sphinx LaTeX宏, 合并的单元格现在可以包含多个段落并且处理得更好。这种新颖的情况促使人们默认切换到 <code class="docutils literal notranslate"><span class="pre">J</span></code> 说明符而不是 <code class="docutils literal notranslate"><span class="pre">L</span></code> 。</p>
<div class="admonition hint">
<p class="admonition-title">提示</p>
<p>Sphinx 实际上使用 <code class="docutils literal notranslate"><span class="pre">T</span></code> 说明符来完成 <code class="docutils literal notranslate"><span class="pre">\newcolumntype{T}{J}</span></code> 。要恢复到以前的默认值, 请在LaTeX前导码中插入 <code class="docutils literal notranslate"><span class="pre">\newcolumntype{T}{L}</span></code> (参见 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/configuration.html#confval-latex_elements"><code class="docutils literal notranslate"><span class="pre">latex_elements</span></code></a> )。</p>
<p>tabulary 的一个常见问题是内容很少的列被 “squeezed” 。最小列宽是一个名为 <code class="docutils literal notranslate"><span class="pre">\tymin</span></code> 的表格参数。您可以通过 <code class="docutils literal notranslate"><span class="pre">\setlength{\tymin}{40pt}</span></code> 在 LaTeX 前导码中全局设置它。</p>
<p>否则, 使用 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/directives.html#directive-tabularcolumns"><code class="docutils literal notranslate"><span class="pre">tabularcolumns</span></code></a> 指令, 对该列使用显式的 <code class="docutils literal notranslate"><span class="pre">p{40pt}</span></code> (例如)。您也可以使用 <code class="docutils literal notranslate"><span class="pre">l</span></code> 说明符, 但如果某个合并单元格与该列相交, 则会使设置列宽的任务更加困难。</p>
</div>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>使用 <code class="docutils literal notranslate"><span class="pre">longtable</span></code> 而不是 <code class="docutils literal notranslate"><span class="pre">tabulary</span></code> 呈现超过30行的表, 以允许分页。 <code class="docutils literal notranslate"><span class="pre">L</span></code>，<code class="docutils literal notranslate"><span class="pre">R</span></code>，… 说明符不适用于这些表。</p>
<p>包含类似列表的元素(如对象描述, 块引用或任何类型的列表)的表不能使用 <code class="docutils literal notranslate"><span class="pre">tabulary</span></code> 开箱即用。因此, 如果你没有给出 <code class="docutils literal notranslate"><span class="pre">tabularcolumns</span></code> 指令, 它们就会被设置为标准的LaTeX <code class="docutils literal notranslate"><span class="pre">tabular</span></code> (或 <code class="docutils literal notranslate"><span class="pre">longtable</span></code>)环境。如果你这样做, 表格将设置为 <code class="docutils literal notranslate"><span class="pre">tabulary</span></code>，但你必须使用 <code class="docutils literal notranslate"><span class="pre">p{width}</span></code> 构造(或者下面描述的Sphinx的 <code class="docutils literal notranslate"><span class="pre">\X</span></code> 和 <code class="docutils literal notranslate"><span class="pre">\Y</span></code> 说明符) )包含这些元素的列。</p>
<p>文字块根本不适用于 <code class="docutils literal notranslate"><span class="pre">tabulary</span></code>，因此包含文字块的表总是设置为 <code class="docutils literal notranslate"><span class="pre">tabular</span></code> 。用于文字块的逐字环境仅适用于 <code class="docutils literal notranslate"><span class="pre">p{width}</span></code> (和 <code class="docutils literal notranslate"><span class="pre">\X</span></code> 或 <code class="docutils literal notranslate"><span class="pre">\Y</span></code>)列, 因此Sphinx为包含文字块的表生成此类列规范。</p>
</div>
<p>从 Sphinx 1.5 开始, 使用 <code class="docutils literal notranslate"><span class="pre">\X{a}{b}</span></code> 说明符(说明字母<em>中有</em>反斜杠)。它就像 <code class="docutils literal notranslate"><span class="pre">p{width}</span></code>，宽度设置为当前行宽的一小部分 <code class="docutils literal notranslate"><span class="pre">a/b</span></code> 。你可以在 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/directives.html#directive-tabularcolumns"><code class="docutils literal notranslate"><span class="pre">tabularcolumns</span></code></a> 中使用它(如果某些LaTeX宏也被称为 <code class="docutils literal notranslate"><span class="pre">\X</span></code>，这不是问题。)</p>
<p>它不需要 <code class="docutils literal notranslate"><span class="pre">b</span></code> 是列的总数，也不需要 <code class="docutils literal notranslate"><span class="pre">\X</span></code> 指定的分数之和加起来是 1。例如 <code class="docutils literal notranslate"><span class="pre">|\X{2}{5}|\X{1}{5}|\X{1}{5}|</span></code> 是合法的, 表格将占据线宽的80％，它的三个列中的第一个具有与下两个列的总和相同的宽度。</p>
<p>这由 <a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#table">table</a> 指令的 <code class="docutils literal notranslate"><span class="pre">:widths:</span></code> 选项使用。</p>
<p>从 Sphinx 1.6 开始, 还有 <code class="docutils literal notranslate"><span class="pre">\Y{f}</span></code> 说明符允许一个十进制参数, 例如 <code class="docutils literal notranslate"><span class="pre">\Y{0.15}</span></code>: 这与 <code class="docutils literal notranslate"><span class="pre">\X{3}{20}</span></code> 的效果相同。</p>
<p><strong>在 1.6 版更改:</strong> 来自复杂网格表(多行, 多列或两者)的合并单元格现在允许块引用, 列表, 文字块, … 和常规单元格一样。</p>
<p>Sphinx 的合并单元格与 <code class="docutils literal notranslate"><span class="pre">p{width}</span></code>, <code class="docutils literal notranslate"><span class="pre">\X{a}{b}</span></code>，<code class="docutils literal notranslate"><span class="pre">Y{f}</span></code> 和 tabulary 列完美交互。</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p><a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/directives.html#directive-tabularcolumns"><code class="docutils literal notranslate"><span class="pre">tabularcolumns</span></code></a> 与表指令的 <code class="docutils literal notranslate"><span class="pre">:widths:</span></code> 选项冲突。如果两者都指定, 则 <code class="docutils literal notranslate"><span class="pre">:widths:</span></code> 选项将被忽略。</p>
</div>
</dd>
</dl>
</section>
<section id="id15">
<h2>数学<a class="headerlink" href="#id15" title="永久链接至标题">¶</a></h2>
<p>数学的输入语言是LaTeX标记。这是纯文本数学符号的事实上的标准, 并且具有额外的优点, 即在构建LaTeX输出时不需要进一步的转换。</p>
<p>请记住, 当你将数学标记放在 <strong>Python文档字符串</strong> 中读取 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/extensions/autodoc.html#module-sphinx.ext.autodoc"><code class="docutils literal notranslate"><span class="pre">autodoc</span></code></a> 时, 你要么必须加倍所有的反斜杠, 要么使用Python原始字符串(<code class="docutils literal notranslate"><span class="pre">r&quot;raw&quot;</span></code>)。</p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">math::</span></code></dt><dd><p>显示数学的指令(数学为自己的整行)。</p>
<p>该指令支持多个方程式, 应该用空行分隔:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">math</span><span class="p">::</span>

   (a + b)^2 = a^2 + 2ab + b^2

   (a - b)^2 = a^2 - 2ab + b^2
</pre></div>
</div>
<p>另外, 每个单独的等式都设置在一个 <code class="docutils literal notranslate"><span class="pre">split</span></code> 环境中, 这意味着你可以在一个等式中有多个对齐的行, 在 <code class="docutils literal notranslate"><span class="pre">＆</span></code> 对齐并用 <code class="docutils literal notranslate"><span class="pre">\\</span></code></p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">math</span><span class="p">::</span>

   (a + b)^2  &amp;=  (a + b)(a + b) \\
            &amp;=  a^2 + 2ab + b^2
</pre></div>
</div>
<p>有关更多详细信息, 请查看 <a class="reference external" href="https://www.ams.org/publications/authors/tex/amslatex">AmSMath LaTeX package</a> 的文档。</p>
<p>当数学只有一行文本时, 它也可以作为指令参数给出:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">math</span><span class="p">::</span> (a + b)^2 = a^2 + 2ab + b^2
</pre></div>
</div>
<p>通常, 方程式没有编号。如果你想要你的方程式得到一个数字, 使用 <code class="docutils literal notranslate"><span class="pre">label</span></code> 选项。给定时, 它选择方程的内部标签, 通过它可以交叉引用, 并导致发出方程编号。请参阅 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/roles.html#role-eq"><code class="docutils literal notranslate"><span class="pre">eq</span></code></a> 作为示例。编号样式取决于输出格式。</p>
<p>还有一个选项 <code class="docutils literal notranslate"><span class="pre">nowrap</span></code> 可以防止在数学环境中包含给定的数学。当您提供此选项时, 您必须确保自己正确设置了数学运算。例如:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">math</span><span class="p">::</span>
   <span class="nc">:nowrap:</span>

   \begin{eqnarray}
      y    &amp; = &amp; ax^2 + bx + c \\
      f(x) &amp; = &amp; x^2 + 2xy + y^2
   \end{eqnarray}
</pre></div>
</div>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/extensions/math.html#math-support">Sphinx中对HTML输出的数学支持</a>使用HTML构建器渲染数学选项。</p>
<p><a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/configuration.html#confval-latex_engine"><code class="docutils literal notranslate"><span class="pre">latex_engine</span></code></a>说明如何配置LaTeX构建器以在数学标记中支持Unicode文字。</p>
</div>
</section>
<section id="id16">
<h2>语法制作显示<a class="headerlink" href="#id16" title="永久链接至标题">¶</a></h2>
<p>特殊标记可用于显示正式语法的制作。标记很简单, 不会尝试对 BNF（或任何派生形式）的所有方面进行建模, 但提供的足够允许以一种方式显示无上下文的语法, 使得符号的使用呈现为定义的超链接符号。有这个指令：</p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">productionlist::</span> <span class="pre">[productionGroup]</span></code></dt><dd><p>这条指令是用来包围一组产品的。每个产品都在一行中给出，由一个名称组成，用一个冒号与下面的定义隔开。如果定义跨越多行，每一个延续行必须以冒号开始，并与第一行中的冒号放置在同一列。生产列表指令参数中不允许有空行。</p>
<p>该定义可以包含标记为解释文本的标记名称(例如 <code class="docutils literal notranslate"><span class="pre">“sum</span> <span class="pre">::=</span> <span class="pre">`integer`</span> <span class="pre">&quot;+&quot;</span> <span class="pre">`integer`”</span></code>) - 这会生成对这些标记的生成的交叉引用。在生产列表之外, 您可以使用以下命令引用令牌生产 <a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/roles.html#role-token"><code class="docutils literal notranslate"><span class="pre">token</span></code></a> 。</p>
<p><a class="reference external" href="https://www.sphinx-doc.org/zh_CN/master/usage/restructuredtext/directives.html#directive-productionlist">productionlist</a> 的参数 <code class="docutils literal notranslate"><span class="pre">productionGroup</span></code> 用于区分属于不同语法的不同生产列表集。因此，具有相同生产组的多个生产列表在同一范围内定义规则。</p>
<p>Inside of the production list, tokens implicitly refer to productions from the current group. You can refer to the production of another grammar by prefixing the token with its group name and a colon, e.g, “<code class="docutils literal notranslate"><span class="pre">otherGroup:sum</span></code>”. If the group of the token should not be shown in the production, it can be prefixed by a tilde, e.g., “~otherGroup:sum”. To refer to a production from an unnamed grammar, the token should be prefixed by a colon, e.g., “<code class="docutils literal notranslate"><span class="pre">:sum</span></code>”.</p>
<p>Outside of the production list, if you have given a productionGroup argument you must prefix the token name in the cross-reference with the group name and a colon, e.g., “<code class="docutils literal notranslate"><span class="pre">myGroup:sum</span></code>” instead of just “sum”. If the group should not be shown in the title of the link either an explicit title can be given (e.g., “<code class="docutils literal notranslate"><span class="pre">myTitle</span> <span class="pre">&lt;myGroup:sum&gt;</span></code>”), or the target can be prefixed with a tilde (e.g., “<code class="docutils literal notranslate"><span class="pre">~myGroup:sum</span></code>”).</p>
<p>Note that no further reST parsing is done in the production, so that you don’t have to escape <code class="docutils literal notranslate"><span class="pre">*</span></code> or <code class="docutils literal notranslate"><span class="pre">|</span></code> characters.</p>
<p>The following is an example taken from the Python Reference Manual:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">productionlist</span><span class="p">::</span>
   try_stmt: try1_stmt | try2_stmt
   try1_stmt: &quot;try&quot; &quot;:&quot; <span class="nv">`suite`</span>
            : (&quot;except&quot; [<span class="nv">`expression`</span> [&quot;,&quot; <span class="nv">`target`</span>]] &quot;:&quot; <span class="nv">`suite`</span>)+
            : [&quot;else&quot; &quot;:&quot; <span class="nv">`suite`</span>]
            : [&quot;finally&quot; &quot;:&quot; <span class="nv">`suite`</span>]
   try2_stmt: &quot;try&quot; &quot;:&quot; <span class="nv">`suite`</span>
            : &quot;finally&quot; &quot;:&quot; <span class="nv">`suite`</span>
</pre></div>
</div>
</dd>
</dl>
<hr class="footnotes docutils" />
<dl class="footnote brackets">
<dt class="label" id="id17"><span class="brackets"><a class="fn-backref" href="#id3">1</a></span></dt>
<dd><p>LaTeX 编写器只引用文档中第一个 toctree 指令的 <code class="docutils literal notranslate"><span class="pre">maxdepth</span></code> 选项。</p>
</dd>
<dt class="label" id="id18"><span class="brackets"><a class="fn-backref" href="#id4">2</a></span></dt>
<dd><p>关于可用的globbing语法的注释:你可以使用标准shell构造 <code class="docutils literal notranslate"><span class="pre">*</span></code>, <code class="docutils literal notranslate"><span class="pre">?</span></code>, <code class="docutils literal notranslate"><span class="pre">[...]</span></code> 和 <code class="docutils literal notranslate"><span class="pre">[!...]</span></code> 这些都不匹配斜杠。双星 <code class="docutils literal notranslate"><span class="pre">**</span></code> 可用于匹配任何字符序列 <em>including</em> 斜杠。</p>
</dd>
<dt class="label" id="id19"><span class="brackets"><a class="fn-backref" href="#id8">3</a></span></dt>
<dd><p>有一个标准的 <code class="docutils literal notranslate"><span class="pre">.. include</span></code> 指令, 但如果找不到该文件, 则会引发错误。这只发出警告。</p>
</dd>
<dt class="label" id="id20"><span class="brackets"><a class="fn-backref" href="#id13">4</a></span></dt>
<dd><p>对于大多数构建器, 名称和格式是相同的。目前, 只有从html构建器派生的构建器才能区分构建器格式和构建器名称。</p>
<p>请注意, 当前构建器标记在 <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> 中不可用, 它仅在构建器初始化后可用。</p>
</dd>
</dl>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "xinetzone/wiki",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./rst"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    
    <div id="prev">
        <a class="left-prev" href="02_roles.html" title="上一页 页">
            <i class="prevnext-label fas fa-angle-left"></i>
            <div class="prevnext-info">
                <p class="prevnext-label">上一页</p>
                <p class="prevnext-title">角色</p>
            </div>
        </a>
    </div>
     <div id="next">
        <a class="right-next" href="04_domains.html" title="下一页 页">
            <div class="prevnext-info">
                <p class="prevnext-label">下一页</p>
                <p class="prevnext-title">域</p>
            </div>
            <i class="prevnext-label fas fa-angle-right"></i>
        </a>
     </div>

</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          <div class="extra_footer">
            <p class="w3-card w3-pale-blue w3-padding">
  Copyright © 2021
  <a href="https://sanstylelab.github.io/">SanstyleLab</a> | 
  Powered by <a href="https://github.com/executablebooks/jupyter-book">Jupyter Book</a>.
</p>

          </div>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>